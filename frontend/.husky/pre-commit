#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo 'Woof! ğŸ¶'

# ESLint --fix
echo 'Fixing linting problems (if possible). ğŸ”¨'
npm run fix

# Prettier
echo 'Checking for formatting problems. ğŸ§ª'
npm run check-format || (
    echo "Prettier Check Failed, we'll get 'em next time. Run npm run format, add changes and try commit again. ğŸ™";
    false;
)

# ESLint
echo 'Lints and checks for formatting problems. ğŸ§ª'
npm run lint || (
    echo "ESLint Check Failed, we'll get 'em next time. Make the required changes listed above, add changes and try to commit again. â˜¹ï¸"
    false;
)

# tsconfig
echo 'Checking for TypeScript errors. ğŸ§ª'
npm run check-types || (
    echo "Failed Type check, we'll get 'em next time. Make the required changes listed above, add changes and try to commit again. ğŸ™ƒ"
    false;
)

echo 'Commiting changes. ğŸ¥ºğŸ¥³ğŸšªğŸƒâ€â™€ï¸ğŸ’¨ğŸš€ğŸŒ‘'